{"version":3,"sources":["../app/JavaScripts/indexMap.js"],"names":["crimeDataSet","map","google","document","center","lat","lng","zoom","heatmap","data","getPoints","i","crimes","crime","JSON","Crime","googlePoints"],"mappings":";;AAII,IAAA,MAAA,GAAA,sBAAA,CAAA,OAAA,CAAA,kBAAA,CAAA,CAAA;;;;;;;AAJJ;;;;;AAOI,IAAA,GAAA,EAAA,OAAA;AACA,IAAIA,YAAY,GAAhB,EAAA;;AACA,SAAA,OAAA,GAAmB;AAIfC,EAAAA,GAAG,GAAG,IAAIC,MAAM,CAANA,IAAAA,CAAJ,GAAA,CAAoBC,QAAQ,CAARA,cAAAA,CAApB,KAAoBA,CAApB,EAAoD;AACtDC,IAAAA,MAAM,EAAE;AAACC,MAAAA,GAAG,EAAJ,OAAA;AAAeC,MAAAA,GAAG,EAAE,CAAC;AAArB,KAD8C;AAEtDC,IAAAA,IAAI,EAAE;AAFgD,GAApD,CAANN;AAKAO,EAAAA,OAAO,GAAG,IAAIN,MAAM,CAANA,IAAAA,CAAAA,aAAAA,CAAJ,YAAA,CAA2C;AACjDO,IAAAA,IAAI,EAAEC,SAAS,CADkC,MAClC,CADkC;AAEjDT,IAAAA,GAAG,EAAEA;AAF4C,GAA3C,CAAVO;AAIH;;AAED,SAAA,UAAA,CAAA,MAAA,EAA2B;AACvB,OAAK,IAAIG,CAAC,GAAV,CAAA,EAAgBA,CAAC,GAAGC,MAAM,CAA1B,MAAA,EAAmCD,CAAnC,EAAA,EACA;AACI;AACA;AACA,QAAIE,KAAK,GAAGC,IAAI,CAAJA,KAAAA,CAAWF,MAAM,CAHjC,CAGiC,CAAjBE,CAAZ,CAHJ,CAKI;;AACAd,IAAAA,YAAY,CAAZA,CAAY,CAAZA,GAAkB,IAAIe,MAAAA,CAAJ,OAAA,CAAUF,KAAK,CAAf,GAAA,EAAqBA,KAAK,CAA1B,QAAA,EAAqCA,KAAK,CAA1C,IAAA,EAAiDA,KAAK,CAAtD,IAAA,EACcA,KAAK,CADnB,QAAA,EAC6BA,KAAK,CADlC,QAAA,EAC6CA,KAAK,CADlD,GAAA,EACwDA,KAAK,CAD/Eb,GAAkB,CAAlBA;AAEH;AACJ;;AAED,SAAA,SAAA,CAAA,MAAA,EAA2B;AACvB;AACA;AACA,MAAIgB,YAAY,GAAhB,EAAA;;AAEA,OAAK,IAAIL,CAAC,GAAV,CAAA,EAAgBA,CAAC,GAAGC,MAAM,CAA1B,MAAA,EAAmCD,CAAnC,EAAA,EAAwC;AAEpC;;;;;;;;;AAUA;AACAK,IAAAA,YAAY,CAAZA,CAAY,CAAZA,GAAkB,IAAId,MAAM,CAANA,IAAAA,CAAJ,MAAA,CACdF,YAAY,CAAZA,CAAY,CAAZA,CADc,GACdA,EADc,EAEdA,YAAY,CAAZA,CAAY,CAAZA,CAfgC,GAehCA,EAFc,CAAlBgB,CAboC,CAiBpC;AACH;;AAED,SAAA,YAAA;AACP","sourcesContent":["/**\r\n * http://usejsdoc.org/\r\n*/\r\n\r\n    import Crime from \"../Classes/Crime\";\r\n\r\n\r\n    var map, heatmap;\r\n    var crimeDataSet =[];\r\n    function initMap() {\r\n\r\n\r\n\r\n        map = new google.maps.Map(document.getElementById('map'), {\r\n            center: {lat: 36.8853, lng: -76.3059},\r\n            zoom: 15\r\n        });\r\n\r\n        heatmap = new google.maps.visualization.HeatmapLayer({\r\n            data: getPoints(crimes),\r\n            map: map\r\n        });\r\n    }\r\n\r\n    function getDataSet(crimes){\r\n        for (var i = 0; i < crimes.length; i++)\r\n        {\r\n            // 1.) Parse each string in crimesJSONArray\r\n            //      into a JSON object called crime\r\n            let crime = JSON.parse(crimes[i]);\r\n\r\n            // 2.) Store the properties\r\n            crimeDataSet[i] = new Crime(crime._id, crime.crimeCat, crime.date, crime.time,\r\n                                            crime.offenses,crime.severity, crime.lat, crime.lng);\r\n        }\r\n    }\r\n\r\n    function getPoints(crimes) {\r\n        // An array that will contain all the crimes lat and lng values\r\n        //      as objects of type google.maps.LatLng\r\n        var googlePoints = [];\r\n\r\n        for (var i = 0; i < crimes.length; i++) {\r\n\r\n            /*\r\n            // 1.) Parse each string in crimesJSONArray\r\n            //      into a JSON object called crime\r\n            let crime = JSON.parse(crimes[i]);\r\n\r\n            // 2.) Store the relevant properties\r\n            var lats = crime.latitude;      // store the latitude coordinate\r\n            var lngs = crime.longitude;     // store the longitude coordinate\r\n            var weights = crime.severity;   // store the weight (will need more calculations in future)\r\n*/\r\n            // 3.) Append to the array of google.maps.LatLng objects\r\n            googlePoints[i] = new google.maps.LatLng(\r\n                crimeDataSet[i].lat(),\r\n                crimeDataSet[i].lng());\r\n\r\n            // !!! Still need to do something with the weight property !!!\r\n        }\r\n\r\n        return googlePoints;\r\n}\r\n"],"file":"indexMap.js"}