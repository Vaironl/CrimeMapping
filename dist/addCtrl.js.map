{"version":3,"sources":["../app/Controllers/addCtrl.js"],"names":["addCtrl","angular","$scope","coords","lat","long","userData","username","gender","age","favlang","location","htmlverified","$http","console","gservice"],"mappings":"cAAA;;AACA,IAAIA,OAAO,GAAGC,OAAO,CAAPA,MAAAA,CAAAA,SAAAA,EAA0B,CAAA,aAAA,EAAxC,UAAwC,CAA1BA,CAAd;AACAD,OAAO,CAAPA,UAAAA,CAAAA,SAAAA,EAA8B,UAAA,MAAA,EAAA,KAAA,EAAA,WAAA,EAAA,QAAA,EAA8C;AAExE;AACA;AACAE,EAAAA,MAAM,CAANA,QAAAA,GAAAA,EAAAA;AACA,MAAIC,MAAM,GAAV,EAAA;AACA,MAAIC,GAAG,GAAP,CAAA;AACA,MAAIC,IAAI,GAPgE,CAOxE,CAPwE,CASxE;;AACAH,EAAAA,MAAM,CAANA,QAAAA,CAAAA,QAAAA,GAAAA,MAAAA;AACAA,EAAAA,MAAM,CAANA,QAAAA,CAAAA,SAAAA,GAA4B,CAX4C,MAWxEA,CAXwE,CAaxE;AACA;AACA;;AACAA,EAAAA,MAAM,CAANA,UAAAA,GAAoB,YAAW;AAE3B;AACA,QAAII,QAAQ,GAAG;AACXC,MAAAA,QAAQ,EAAEL,MAAM,CAANA,QAAAA,CADC,QAAA;AAEXM,MAAAA,MAAM,EAAEN,MAAM,CAANA,QAAAA,CAFG,MAAA;AAGXO,MAAAA,GAAG,EAAEP,MAAM,CAANA,QAAAA,CAHM,GAAA;AAIXQ,MAAAA,OAAO,EAAER,MAAM,CAANA,QAAAA,CAJE,OAAA;AAKXS,MAAAA,QAAQ,EAAE,CAACT,MAAM,CAANA,QAAAA,CAAD,SAAA,EAA4BA,MAAM,CAANA,QAAAA,CAL3B,QAKD,CALC;AAMXU,MAAAA,YAAY,EAAEV,MAAM,CAANA,QAAAA,CAAgBU;AANnB,KAAf,CAH2B,CAY3B;;AACAC,IAAAA,KAAK,CAALA,IAAAA,CAAAA,QAAAA,EAAAA,QAAAA,EAAAA,OAAAA,CACa,UAAA,IAAA,EAAgB;AAErB;AACAX,MAAAA,MAAM,CAANA,QAAAA,CAAAA,QAAAA,GAAAA,EAAAA;AACAA,MAAAA,MAAM,CAANA,QAAAA,CAAAA,MAAAA,GAAAA,EAAAA;AACAA,MAAAA,MAAM,CAANA,QAAAA,CAAAA,GAAAA,GAAAA,EAAAA;AACAA,MAAAA,MAAM,CAANA,QAAAA,CAAAA,OAAAA,GAAAA,EAAAA;AAPRW,KAAAA,EAAAA,KAAAA,CAWW,UAAA,IAAA,EAAgB;AACnBC,MAAAA,OAAO,CAAPA,GAAAA,CAAY,YAAZA,IAAAA;AAZRD,KAAAA;AAcAE,IAAAA,QAAQ,CAARA,OAAAA,CAAiBb,MAAM,CAANA,QAAAA,CAAjBa,QAAAA,EAA2Cb,MAAM,CAANA,QAAAA,CAA3Ca,SAAAA;AA3BJb,GAAAA;AAhBJF,CAAAA","sourcesContent":["// Creates the addCtrl Module and Controller. Note that it depends on the 'geolocation' module and service.\r\nvar addCtrl = angular.module('addCtrl', ['geolocation', 'gservice']);\r\naddCtrl.controller('addCtrl', function($scope, $http, geolocation, gservice){\r\n\r\n    // Initializes Variables\r\n    // ----------------------------------------------------------------------------\r\n    $scope.formData = {};\r\n    var coords = {};\r\n    var lat = 0;\r\n    var long = 0;\r\n\r\n    // Set initial coordinates to the center of the US\r\n    $scope.formData.latitude = 39.500;\r\n    $scope.formData.longitude = -98.350;\r\n\r\n    // Functions\r\n    // ----------------------------------------------------------------------------\r\n    // Creates a new user based on the form fields\r\n    $scope.createUser = function() {\r\n\r\n        // Grabs all of the text box fields\r\n        var userData = {\r\n            username: $scope.formData.username,\r\n            gender: $scope.formData.gender,\r\n            age: $scope.formData.age,\r\n            favlang: $scope.formData.favlang,\r\n            location: [$scope.formData.longitude, $scope.formData.latitude],\r\n            htmlverified: $scope.formData.htmlverified\r\n        };\r\n\r\n        // Saves the user data to the db\r\n        $http.post('/users', userData)\r\n            .success(function (data) {\r\n\r\n                // Once complete, clear the form (except location)\r\n                $scope.formData.username = \"\";\r\n                $scope.formData.gender = \"\";\r\n                $scope.formData.age = \"\";\r\n                $scope.formData.favlang = \"\";\r\n\r\n            })\r\n\r\n            .error(function (data) {\r\n                console.log('Error: ' + data);\r\n            });\r\n        gservice.refresh($scope.formData.latitude, $scope.formData.longitude);\r\n\r\n    };\r\n});\r\n"],"file":"addCtrl.js"}